使用职责链模式和 Map （也可以用标准的工厂模式）对该条件嵌套示例进行重构。